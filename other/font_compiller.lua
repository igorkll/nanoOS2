local font = {}
font.width = 4
font.height = 5

font.chars = {
	----------big english fonts
	["A"] = {
		".11.",
		"1..1",
		"1111",
		"1..1",
		"1..1"
	},
	["B"] = {
		"111.",
		"1..1",
		"111.",
		"1..1",
		"111."
	},
	["C"] = {
		".11.",
		"1..1",
		"1...",
		"1..1",
		".11."
	},
	["D"] = {
		"111.",
		"1..1",
		"1..1",
		"1..1",
		"111."
	},
	["E"] = {
		"1111",
		"1...",
		"111.",
		"1...",
		"1111"
	},
	["F"] = {
		"1111",
		"1...",
		"111.",
		"1...",
		"1..."
	},
	["G"] = {
		".111",
		"1...",
		"1.11",
		"1..1",
		".11."
	},
	["H"] = {
		"1..1",
		"1..1",
		"1111",
		"1..1",
		"1..1"
	},
	["I"] = {
		"1111",
		".11.",
		".11.",
		".11.",
		"1111"
	},
	["J"] = {
		"1111",
		".11.",
		".11.",
		".11.",
		"11.."
	},
	["K"] = {
		"1..1",
		"1..1",
		"111.",
		"1..1",
		"1..1"
	},
	["L"] = {
		"1...",
		"1...",
		"1...",
		"1...",
		"1111"
	},
	["M"] = {
		"1..1",
		"1111",
		"1..1",
		"1..1",
		"1..1"
	},
	["N"] = {
		"1..1",
		"11.1",
		"1.11",
		"1..1",
		"1..1"
	},
	["O"] = {
		".11.",
		"1..1",
		"1..1",
		"1..1",
		".11."
	},
	["P"] = {
		"111.",
		"1..1",
		"111.",
		"1...",
		"1..."
	},
	["Q"] = {
		".11.",
		"1..1",
		"1..1",
		"1..1",
		".111"
	},
	["R"] = {
		"111.",
		"1..1",
		"111.",
		"1..1",
		"1..1"
	},
	["S"] = {
		".111",
		"1...",
		".11.",
		"...1",
		"111."
	},
	["T"] = {
		"1111",
		".11.",
		".11.",
		".11.",
		".11."
	},
	["U"] = {
		"1..1",
		"1..1",
		"1..1",
		"1..1",
		".111"
	},
	["V"] = {
		"1..1",
		"1..1",
		"1..1",
		"1..1",
		".11."
	},
	["W"] = {
		"1..1",
		"1..1",
		"1..1",
		"1111",
		"1..1"
	},
	["X"] = {
		"1..1",
		"1..1",
		".11.",
		"1..1",
		"1..1"
	},
	["Y"] = {
		"1..1",
		"1..1",
		".111",
		"...1",
		".11."
	},
	["Z"] = {
		"1111",
		"...1",
		".11.",
		"1...",
		"1111"
	},

	----------small english fonts
	["a"] = {
		"....",
		".11.",
		"...1",
		"1111",
		".111"
	},
	["b"] = {
		"....",
		"1...",
		"111.",
		"1..1",
		"111."
	},
	["c"] = {
		"....",
		".111",
		"1...",
		"1...",
		".111"
	},
	["d"] = {
		"...",
		"...1",
		".111",
		"1..1",
		".111"
	},
	["e"] = {
		"....",
		"1111",
		"111.",
		"1...",
		"1111"
	},
	["f"] = {
		"....",
		"1111",
		"1...",
		"111.",
		"1..."
	},
	["g"] = {
		"....",
		".111",
		"1...",
		"1..1",
		".11."
	},
	["h"] = {
		"....",
		"1...",
		"1111",
		"1..1",
		"1..1"
	},
	["i"] = {
		"....",
		".11.",
		"....",
		".11.",
		".11."
	},
	["j"] = {
		"....",
		"..1.",
		"..1.",
		"..1.",
		"11.."
	},
	["k"] = {
		"....",
		"1...",
		"1..1",
		"111.",
		"1..1"
	},
	["l"] = {
		"....",
		"1...",
		"1...",
		"1...",
		"1111"
	},
	["m"] = {
		"....",
		"1..1",
		"1111",
		"1..1",
		"1..1"
	},
	["n"] = {
		"....",
		"111.",
		"1..1",
		"1..1",
		"1..1"
	},
	["o"] = {
		"....",
		".11.",
		"1..1",
		"1..1",
		".11."
	},
	["p"] = {
		"....",
		"111.",
		"1..1",
		"111.",
		"1..."
	},
	["q"] = {
		"....",
		".11.",
		"1..1",
		"1111",
		"...1"
	},
	["r"] = {
		"....",
		"11.1",
		"1.1.",
		"1...",
		"1..."
	},
	["s"] = {
		"....",
		"..11",
		".1..",
		"..1.",
		"11.."
	},
	["t"] = {
		"....",
		"1111",
		".11.",
		".11.",
		".11."
	},
	["u"] = {
		"....",
		"1..1",
		"1..1",
		"1..1",
		".111"
	},
	["v"] = {
		"....",
		"1..1",
		"1..1",
		"1..1",
		".11."
	},
	["w"] = {
		"....",
		"1..1",
		"1..1",
		"1111",
		"1..1"
	},
	["x"] = {
		"....",
		"1..1",
		".11.",
		".11.",
		"1..1"
	},
	["y"] = {
		"....",
		"1..1",
		".111",
		"...1",
		".11."
	},
	["z"] = {
		"....",
		"1111",
		"..1.",
		".1..",
		"1111"
	},

	------------------------
	["0"] = {
		".11.",
		"1..1",
		"1..1",
		"1..1",
		".11."
	},
	["1"] = {
		".11.",
		"111.",
		".11.",
		".11.",
		"1111"
	},
	["2"] = {
		"111.",
		"...1",
		".11.",
		"1...",
		".111"
	},
	["3"] = {
		"111.",
		"...1",
		"111.",
		"...1",
		"111."
	},
	["4"] = {
		"1..1",
		"1..1",
		"1111",
		"...1",
		"...1"
	},
	["5"] = {
		"1111",
		"1...",
		"111.",
		"...1",
		"111."
	},
	["6"] = {
		".11.",
		"1...",
		"111.",
		"1..1",
		".11."
	},
	["7"] = {
		"1111",
		"...1.",
		".11.",
		".11.",
		".11."
	},
	["8"] = {
		".11.",
		"1..1",
		".11.",
		"1..1",
		".11."
	},
	["9"] = {
		".11.",
		"1..1",
		".111",
		"...1",
		".11."
	},
	["."] = {
		"....",
		"....",
		"....",
		"....",
		"1..."
	},
	[","] = {
		"....",
		"....",
		"....",
		"11..",
		"1..."
	},
	[":"] = {
		"....",
		"1...",
		"....",
		"1...",
		"...."
	},
	[";"] = {
		"....",
		"1...",
		"....",
		"11..",
		"1..."
	},
	["!"] = {
		"1...",
		"1...",
		"1...",
		"....",
		"1..."
	},
	["?"] = {
		"1...",
		".1..",
		"1...",
		"....",
		"1..."
	},
	["'"] = {
		"..1.",
		"..1.",
		"....",
		"....",
		"...."
	},
	['"'] = {
		"1.1.",
		"1.1.",
		"....",
		"....",
		"...."
	},
	["("] = {
		"...1",
		"..1.",
		"..1.",
		"..1.",
		"...1"
	},
	[")"] = {
		"1...",
		".1..",
		".1..",
		".1..",
		"1..."
	},
	["["] = {
		"..11",
		"..1.",
		"..1.",
		"..1.",
		"..11"
	},
	["]"] = {
		"11..",
		".1..",
		".1..",
		".1..",
		"11.."
	},
	["{"] = {
		"...1",
		"..1.",
		".11.",
		"..1.",
		"...1"
	},
	["}"] = {
		"1...",
		".1..",
		".11.",
		".1..",
		"1..."
	},
	["<"] = {
		"...1",
		"..1.",
		".1..",
		"..1.",
		"...1"
	},
	[">"] = {
		"1...",
		".1..",
		"..1.",
		".1..",
		"1..."
	},
	["/"] = {
		"...1",
		"..1.",
		"..1.",
		".1..",
		"1..."
	},
	["\\"] = {
		"1...",
		".1..",
		".1..",
		"..1.",
		"...1"
	},
	["@"] = {
		".111",
		"11.1",
		"1.11",
		"1...",
		".111"
	},
	["#"] = {
		"1..1",
		"1111",
		"1..1",
		"1111",
		"1..1"
	},
	["$"] = {
		".111",
		"1.1.",
		".11.",
		".1.1",
		"111."
	},
	["%"] = {
		"1..1",
		"..1.",
		"..1.",
		".1..",
		"1..1"
	},
	["^"] = {
		".1..",
		"1.1.",
		"....",
		"....",
		"...."
	},
	["&"] = {
		".11.",
		"1..1",
		".1..",
		"1.11",
		".111"
	},
	["*"] = {
		"1..1",
		".11.",
		"1..1",
		"....",
		"...."
	},
	["+"] = {
		"....",
		".11.",
		"1111",
		".11.",
		"...."
	},
	["-"] = {
		"....",
		"....",
		"1111",
		"....",
		"...."
	},
	["_"] = {
		"....",
		"....",
		"....",
		"....",
		"1111"
	},
	[" "] = {
		"....",
		"....",
		"....",
		"....",
		"...."
	},
	["="] = {
		"....",
		"1111",
		"....",
		"1111",
		"...."
	},
	["`"] = {
		"1...",
		".1..",
		"....",
		"....",
		"...."
	},
	["~"] = {
		"....",
		"1.1.",
		".1.1",
		"....",
		"...."
	},
	["№"] = {
		"...1",
		"1...",
		"11.1",
		"1.11",
		"1..1"
	},
}

local function write(name, data)
    local file = io.open(name, "wb")
    file:write(data)
    file:close()
end

local function bool_table_to_string(bool_table)
    local str = ''
    for i = 1, #bool_table, 8 do
        local byte = 0
        for j = i, i+7 do
            if bool_table[j] then
                byte = byte + 2^(j-i)
            end
        end
        str = str .. string.char(byte)
    end
    return str
end

local function toChar(str1, str2)
	local byte = 0
	for i = 1, 4 do
		if str1:char(i, i) == "1" then
			byte = byte + (2 ^ (i - 1))
		end
	end
	for i = 1, 4 do
		if str2:char(i, i) == "1" then
			byte = byte + (2 ^ (i + 3))
		end
	end
	return string.char(byte)
end

------------------------------------

for key, char in pairs(font.chars) do --штоб каждый символ занимал 3 байта
    table.insert(font.chars[key], string.rep(".", font.width))
end

local data = ""
for i = 0, 255 do
	local chardata = font.chars[string.char(i)]
	if chardata then
		data = data .. toChar(chardata[1], chardata[2])
		data = data .. toChar(chardata[3], chardata[4])
		data = data .. toChar(chardata[5], chardata[6])
	else
		data = data .. (string.char(0)):rep(3)
	end
end
write("bin.txt", data)